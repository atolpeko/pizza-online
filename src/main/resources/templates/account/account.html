<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="eng">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/scc/account.css}" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Account></title>
</head>
<body>

<!-- Navigation bar -->
<div class="nav">
    <nav class="nav-menu menu">
        <ul class="menu-list r-list">
            <li class="menu-group">
                <a class="menu-link r-link text-underlined" th:href="@{/}">Home</a></li>
            <li class="menu-group">
                <a class="menu-link r-link text-underlined" th:href="@{/pizzas}">Pizzas</a></li>
            <li class="menu-group">
                <a class="menu-link r-link text-underlined" th:href="@{/drinks}">Drinks</a></li>
            <li class="menu-group">
                <a class="menu-link r-link text-underlined" th:href="@{/cart}">Cart</a></li>
            <li class="menu-group">
                <a class="menu-link r-link text-underlined" th:href="@{/account}">Account</a></li>
            <li sec:authorize="hasAuthority('ADMIN')" class="menu-group">
                <a class="menu-link r-link text-underlined" th:href="@{/manage}">Manage</a></li>
        </ul>
    </nav>
</div>

<!-- Central content-->
<div class="container py-5 h-100 ">
    <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-xl-10">
            <div class="card rounded-3 text-black">
                <div class="row g-0">
                    <div class="col-lg-6">
                        <div th:if="${!user.isAccountNonLocked()}" class="card-body p-md-5 mx-md-4">
                            <div class="row">
                                <h1 class="text-center header">Account is locked</h1>
                            </div>
                            <div class="row">
                                <a class="btn btn-outline-danger" th:href="@{/account/logout}">Log out</a>
                            </div>
                        </div>

                        <div th:if="${user.isAccountNonLocked()}" class="card-body p-md-5 mx-md-4">
                            <div class="text-center header">Account info</div>
                            <div sec:authorize="hasAuthority('ADMIN')" class="text-center header">
                                MANAGER
                            </div>

                            <div class="row">
                                <div class="col">
                                    <div class="text-center" th:utext="'<strong> Email: </strong>' +
                                     ${user.email}"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="text-center" th:utext="'<strong> Name: </strong>' +
                                     ${user.name}"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="text-center" th:utext="'<strong> Phone: </strong>' +
                                     ${user.phoneNumber}"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="text-center" th:utext="'<strong> Country: </strong>' +
                                     ${user.country}"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="text-center" th:utext="'<strong> City: </strong>' +
                                     ${user.city}"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="text-center" th:utext="'<strong> Street: </strong>' +
                                     ${user.street}"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="text-center" th:utext="'<strong> House number: </strong>' +
                                     ${user.houseNumber}"></div>
                                </div>
                            </div>
                            <div class="row">
                                <a class="btn btn-outline-success" th:href="@{/account/edit}">Edit</a>
                            </div>
                            <div class="row">
                                <a class="btn btn-outline-warning" th:href="@{/account/edit-login}">Change login data</a>
                            </div>
                            <div class="row">
                                <a class="btn btn-outline-danger" th:href="@{/account/logout}">Log out</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous">
</script>
</body>
</html>
